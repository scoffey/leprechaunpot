<!DOCTYPE html>
<html>
<head>
<title>elegilegi: un juego para elegir legisladores que votan como vos</title>
<meta property="og:title" content="elegilegi" />
<meta property="og:description" content="Un juego para elegir legisladores que votan como vos" />
<meta property="og:image" content="media/congreso.jpg" />
<meta name="viewport" content="width=device-width" />
<link rel="stylesheet" type="text/css" href="static/style.css"></link>
</head>
<body>
<!--
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '509828029188246',
      cookie     : true,  // enable cookies to allow the server to access 
                          // the session
      xfbml      : true,
      version    : 'v2.4'
    });

    // ADD ADDITIONAL FACEBOOK CODE HERE
// Place following code after FB.init call.

FB.getLoginStatus(function(response) {
/*
  // Check login status on load, and if the user is
  // already logged in, go directly to the welcome message.
  if (response.status == 'connected') {
    onLogin(response);
  } else {
    // Otherwise, show Login dialog first.
    FB.login(function(response) {
      onLogin(response);
    }, {scope: 'user_friends, email'});
  }
*/
    statusChangeCallback(response);
});

  };

  // This is called with the results from from FB.getLoginStatus().
  function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);
    // The response object is returned with a status field that lets the
    // app know the current login status of the person.
    // Full docs on the response object can be found in the documentation
    // for FB.getLoginStatus().
    if (response.status === 'connected') {
      // Logged into your app and Facebook.
      testAPI();
    } else if (response.status === 'not_authorized') {
      // The person is logged into Facebook, but not your app.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    } else {
      // The person is not logged into Facebook, so we're not sure if
      // they are logged into this app or not.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into Facebook.';
    }
  }

  // This function is called when someone finishes with the Login
  // Button.  See the onlogin handler attached to it in the sample
  // code below.
  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }

function onLogin(response) {
  if (response.status == 'connected') {
    FB.api('/me?fields=first_name', function(data) {
      var welcomeBlock = document.getElementById('fb-welcome');
      welcomeBlock.innerHTML = 'Hello, ' + data.first_name + '!';
    });
  }
}

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/es_LA/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));


  // Here we run a very simple test of the Graph API after login is
  // successful.  See statusChangeCallback() for when this call is made.
  function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
    });
  }

-->
<script>
  // This is called with the results from from FB.getLoginStatus().
  function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);
    // The response object is returned with a status field that lets the
    // app know the current login status of the person.
    // Full docs on the response object can be found in the documentation
    // for FB.getLoginStatus().
    if (response.status === 'connected') {
      // Logged into your app and Facebook.
      testAPI();
    } else if (response.status === 'not_authorized') {
      // The person is logged into Facebook, but not your app.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    } else {
      // The person is not logged into Facebook, so we're not sure if
      // they are logged into this app or not.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into Facebook.';
    }
  }

  // This function is called when someone finishes with the Login
  // Button.  See the onlogin handler attached to it in the sample
  // code below.
  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }

  window.fbAsyncInit = function() {
console.log('start fbAsyncInit');
  FB.init({
    appId      : '509828029188246',
    cookie     : true,  // enable cookies to allow the server to access 
                        // the session
    xfbml      : true,  // parse social plugins on this page
    version    : 'v2.4' // use version 2.2
  });

  // Now that we've initialized the JavaScript SDK, we call 
  // FB.getLoginStatus().  This function gets the state of the
  // person visiting this page and can return one of three states to
  // the callback you provide.  They can be:
  //
  // 1. Logged into your app ('connected')
  // 2. Logged into Facebook, but not your app ('not_authorized')
  // 3. Not logged into Facebook and can't tell if they are logged into
  //    your app or not.
  //
  // These three cases are handled in the callback function.

  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });

  };

  // Here we run a very simple test of the Graph API after login is
  // successful.  See statusChangeCallback() for when this call is made.
  function testAPI() {
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      console.log(response);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
    });
  }
</script>

<div id="heading">
	<div class="container">
		<h1>elegilegi</h1>
		<p class="tagline">un juego para elegir legisladores que votan como vos</p>
		<p class="corner"><a id="info" href="javascript:void(0);" title="Acerca de esta aplicaci&oacute;n">?</a></p>
	</div>
</div>
<div id="about">
	<p><em>C&oacute;mo funciona</em><p>
	<ul>
		<li>Cada proyecto de ley tiene 4 votos posibles (<em>afirmativo</em>, <em>negativo</em>, <em>abstenci&oacute;n</em> y <em>ausente</em>) y la opci&oacute;n de ser <em>salteado</em>.</li>
		<li>Para cada proyecto de ley no salteado, se le asigna 1 <em>coincidencia</em> a cada legislador que haya votado lo mismo que vos y 1 <em>discrepancia</em> a cada legislador cuyo voto sea alguno de los otros 3.</li>
		<li>Luego de votar o saltear los proyectos de ley, se muestran las coincidencias y discrepancias obtenidas con cada legislador.</li>
		<li>La <em>chance de coincidir</em> se calcula como la cantidad de coincidencias sobre el total de votos del legislador (coincidencias y discrepancias sumadas).</li>
		<li>La <em>diferencia</em> se calcula como la resta entre las coincidencias y las discrepancias.</li>
		<li>La <em>participaci&oacute;n</em> se calcula como el total de votos del legislador (coincidencias y discrepancias sumadas) sobre el total de proyectos no salteados.</li>
		<li>La tabla puede ser ordenada por distintas columnas. Se apela al esp&iacute;ritu cr&iacute;tico para interpretar estos resultados.</li>
	</ul>
	<p>Esta aplicaci&oacute;n es de <a href="https://github.com/scoffey/elegilegi/" target="_blank">c&oacute;digo abierto</a> y no registra tus votos ni almacena informaci&oacute;n personal.</p>
	<p>Idea original y desarrollo por <a href="https://twitter.com/scoffey" target="_blank">@scoffey</a>. Datos liberados por <a href="https://twitter.com/andy_tow" target="_blank">@andy_tow</a>. Ver <a href="https://github.com/scoffey/elegilegi#cr%C3%A9ditos" target="_blank">m&aacute;s cr&eacute;ditos</a>.</p>
	<p class="center"><a id="back" class="action" href="javascript:void(0);">Cerrar</a></p>
</div>
<div id="intro">
	<ol>
	<li><strong>1.</strong> Te presentamos 32 proyectos de ley que se votaron en el Congreso entre 2006 y 2013.</li>
	<li><strong>2.</strong> Respond&eacute;s si hubieras votado a favor, en contra, abstenci&oacute;n o ausente. (Tambi&eacute;n pod&eacute;s saltear)</li>
	<li><strong>3.</strong> Te mostramos los legisladores que votaron como vos. &iquest;Ser&aacute;n los que pens&aacute;s?</li>
	</ol>
	<p class="center"><a id="start" class="action" href="javascript:void(0);">Comenzar</a></p>
	<p class="center news"><a href="caba/">Versi&oacute;n de la Legislatura de la Ciudad Aut&oacute;noma de Buenos Aires</a></p>
	<p class="center news"><a href="inverso/">NUEVO: elegilegi inverso: te pregunta a qui&eacute;nes vot&aacute;s y te dice c&oacute;mo votaron antes</a></p>
	<p class="center">&iquest;Quer&eacute;s ayudar a un amigo que no sabe qu&eacute; votar?<br />&iexcl;Sos libre de hacer Patria y compartirle este link!<br /><a class="facebook" href="javascript:void(0);">Facebook</a> - <a class="twitter" href="javascript:void(0);">Twitter</a> - <a class="googleplus" href="javascript:void(0);">Google+</a></p>

	<p id="fb-welcome"></p>
	<div class="fb-like" data-share="true" data-width="450" data-show-faces="true"></div>
	<fb:login-button scope="public_profile,email" onlogin="checkLoginState();"></fb:login-button>
	<div id="status"></div>

</div>
<div id="voting">
	<p id="project">Proyecto</p>
	<p id="summary">Sumario</p>
	<p><a id="link" href="javascript:void(0);">Texto completo</a></p>
	<p id="date" class="shady">Fecha</p>
	<p id="question">&iquest;Votar&iacute;as a favor de este proyecto?</p>
	<ul>
	<li><a id="vote-aye" href="javascript:void(0);">S&Iacute;</a></li>
	<li><a id="vote-nay" href="javascript:void(0);">NO</a></li>
	<li><a id="vote-abstention" href="javascript:void(0);">ABSTENCI&Oacute;N</a></li>
	<li><a id="vote-absentee" href="javascript:void(0);">AUSENTE</a></li>
	<li><a id="vote-skip" href="javascript:void(0);">No s&eacute;, paso</a></li>
	</ul>
	<p id="progress-status" class="shady">Completado: 0 / 32</p>
	<p id="progress-bar"><span></span></p>
</div>
<div id="results">
	<p>Estos son los legisladores listados por coincidencias y discrepancias con tus votos.</p>
	<p>
		<select id="district">
			<option value="" selected="selected">Todos los distritos</option>
			<option value="Buenos Aires">Buenos Aires</option>
			<option value="CABA">CABA</option>
			<option value="Catamarca">Catamarca</option>
			<option value="Chaco">Chaco</option>
			<option value="Chubut">Chubut</option>
			<option value="Corrientes">Corrientes</option>
			<option value="C&oacute;rdoba">C&oacute;rdoba</option>
			<option value="Entre R&iacute;os">Entre R&iacute;os</option>
			<option value="Formosa">Formosa</option>
			<option value="Jujuy">Jujuy</option>
			<option value="La Pampa">La Pampa</option>
			<option value="La Rioja">La Rioja</option>
			<option value="Mendoza">Mendoza</option>
			<option value="Misiones">Misiones</option>
			<option value="Neuqu&eacute;n">Neuqu&eacute;n</option>
			<option value="R&iacute;o Negro">R&iacute;o Negro</option>
			<option value="Salta">Salta</option>
			<option value="San Juan">San Juan</option>
			<option value="San Luis">San Luis</option>
			<option value="Santa Cruz">Santa Cruz</option>
			<option value="Santa Fe">Santa Fe</option>
			<option value="Santiago del Estero">Santiago del Estero</option>
			<option value="Tierra del Fuego">Tierra del Fuego</option>
			<option value="Tucum&aacute;n">Tucum&aacute;n</option>
		</select>
		<select id="house">
			<option value="" selected="selected">Ambas c&aacute;maras</option>
			<option value="Diputados">S&oacute;lo diputados</option>
			<option value="Senado">S&oacute;lo senadores</option>
		</select>
		<select id="relevance">
			<option value="0" selected="selected">Cualquier participaci&oacute;n</option>
			<option value="25">M&aacute;s del 25%</option>
			<option value="50">M&aacute;s del 50%</option>
		</select>
		<select id="order">
			<option value="name">Ordenar por nombre</td>
			<option value="chance">Ordenar por chance de coincidir</td>
			<option value="participation">Ordenar por participaci&oacute;n</td>
			<option value="coincidences">Ordenar por coincidencias</td>
			<option value="discrepancies">Ordenar por discrepancias</td>
			<option value="difference" selected="selected">Ordenar por diferencia</td>
		</select>
	</p>
	<table>
		<thead>
			<tr>
				<td id="name">Legislador</td>
				<td class="center" id="chance">Chance de coincidir</td>
				<td class="center" id="participation">Participaci&oacute;n</td>
				<td class="center" id="coincidences">Coincidencias</td>
				<td class="center" id="discrepancies">Discrepancias</td>
				<td class="center" id="difference">Diferencia</td>
			</tr>
		</thead>
		<tbody id="rows">
		</tbody>
	</table>
	<div id="chart"></div>
	<p class="center"><a id="reset" class="action" href="javascript:void(0);">Volver a empezar</a></p>
	<p class="center">&iquest;Quer&eacute;s ayudar a un amigo que no sabe qu&eacute; votar?<br />&iexcl;Sos libre de hacer Patria y compartirle este link!<br /><a class="facebook" href="javascript:void(0);">Facebook</a> - <a class="twitter" href="javascript:void(0);">Twitter</a> - <a class="googleplus" href="javascript:void(0);">Google+</a></p>
	<p class="center"><a href="javascript:void(0);" onclick="$('#what-to-do').slideToggle(200);">&iquest;Quer&eacute;s ver m&aacute;s aplicaciones como esta?</a></p>
	<p id="what-to-do" class="center nodisplay">&iexcl;Pedile a tus candidatos en campa&ntilde;a que se debatan proyectos como la<br /><a href="http://www1.hcdn.gov.ar/proyxml/expediente.asp?fundamentos=si&numexp=1541-D-2010" target="_blank">Ley de Transparencia, Gobierno Abierto y Acceso a la Informaci&oacute;n P&uacute;blica</a>!<br />(En 2012 este proyecto <a href="http://www.lanacion.com.ar/1528367-el-proyecto-de-acceso-a-la-informacion-volveria-a-foja-cero" target="_blank">perdi&oacute; estado parlamentario</a>.)<br />Contactalos por e-mail, Twitter u otros medios a ver si te responden.</p>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="//connect.facebook.net/en_US/sdk.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
<script type="text/javascript" src="static/elegilegi.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42712446-1', 'elegilegi.org');
  ga('send', 'pageview');

</script>
</body>
</html>
